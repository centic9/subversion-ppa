Description: fix denial of service via SVNParentPath walking
Origin: upstream, http://svn.apache.org/viewvc?view=revision&revision=1033166
Bug-Debian: http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=608989

Index: subversion-1.7.0/subversion/mod_dav_svn/repos.c
===================================================================
--- subversion-1.7.0.orig/subversion/mod_dav_svn/repos.c	2011-10-20 20:47:32.000000000 +0200
+++ subversion-1.7.0/subversion/mod_dav_svn/repos.c	2011-10-20 21:55:58.000000000 +0200
@@ -4211,6 +4211,12 @@
       return NULL;
     }
 
+  if (params->root->info->restype == DAV_SVN_RESTYPE_PARENTPATH_COLLECTION)
+    {
+      /* Cannot walk an SVNParentPath collection, there is no repository. */
+      return NULL;
+    }
+
   ctx.params = params;
 
   ctx.wres.walk_ctx = params->walk_ctx;
