Description: fix mod_dav_svn permissions bypass via incorrect resource URL
Origin: upstream, http://svn.apache.org/viewvc?view=revision&revision=1130303

Index: subversion-1.7.0/subversion/mod_dav_svn/authz.c
===================================================================
--- subversion-1.7.0.orig/subversion/mod_dav_svn/authz.c	2011-10-20 20:47:32.000000000 +0200
+++ subversion-1.7.0/subversion/mod_dav_svn/authz.c	2011-10-20 21:56:00.000000000 +0200
@@ -59,6 +59,11 @@
   if (path && path[0] != '/')
     path = apr_pstrcat(pool, "/", path, NULL);
 
+  /* Sometimes we get paths that do not start with '/' and 
+     hence below uri concatenation would lead to wrong uris .*/
+  if (path && path[0] != '/')
+    path = apr_pstrcat(pool, "/", path, NULL);
+
   /* If bypass is specified and authz has exported the provider.
      Otherwise, we fall through to the full version.  This should be
      safer than allowing or disallowing all accesses if there is a
